# XUI Multi-Server Sync

ููฺฏุงูโุณุงุฒ ููุดููุฏ ฺูุฏู ูพูู X-UI / 3X-UI ุจุง ุงูฺฏูุฑุชู Delta-Based

> ๐ [English](README.md)

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-Ubuntu%20%7C%20Debian-orange.svg)]()
[![Python](https://img.shields.io/badge/Python-3.8%2B-green.svg)]()

---

## ูุตุจ ุณุฑุน

ููุท ุฑู **ุณุฑูุฑ Master** ุงุฌุฑุง ฺฉูุฏ:

```bash
wget -O xuisync.sh https://raw.githubusercontent.com/sepehringo/xui-panel-manager/main/xui-multi-sync-installer.sh && chmod +x xuisync.sh && sudo ./xuisync.sh
```

ูพุณ ุงุฒ ูุตุจุ ูุฏุฑุช ุงุฒ ูุฑ ุฌุง ุจุง `sudo xuisync`.

---

## ูฺฺฏโูุง

| | |
|---|---|
| **Master Authority** | ููุงุฏุฑ expiryุ total ู enable ููุท ุงุฒ Master ุงุนูุงู ูโุดููุฏ |
| **Delta Traffic** | ูุตุฑู ูุงูุน ููู ุณุฑูุฑูุง ุชุฌูุน ูโุดูุฏ |
| **Full Client Sync** | ฺฉุงุฑุจุฑุงู ุฌุฏุฏ ุจุง UUID ฺฉุงูู ุจู ููู ุณุฑูุฑูุง ููุชูู ูโุดููุฏ |
| **Reset Detection** | ุตูุฑุณุงุฒ ุฑู Master ุจู ููู ุณุฑูุฑูุง ุงุนูุงู ูโุดูุฏ |
| **Auto-Detect** | ูุณุฑ ุฏุชุงุจุณ ู ุณุฑูุณ ุณุฑูุฑ Remote ุฎูุฏฺฉุงุฑ ุดูุงุณุง ูโุดูุฏ |
| **Systemd Timer** | ุงุฌุฑุง ุฏูุฑูโุง ุฎูุฏฺฉุงุฑ ุจุง ูุงุจูุช ุชูุธู ุจุงุฒู ุฒูุงู |

---

## ุฑุงูโุงูุฏุงุฒ

**ฑ. ูุตุจ** โ ุฏุณุชูุฑ ุจุงูุง ุฑุง ุฑู Master ุงุฌุฑุง ฺฉูุฏ. ุฒุจุงูุ ุจุงุฒู ุฒูุงู (ูพุดโูุฑุถ ถฐ ุฏููู) ู SSH key ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุธู ูโุดููุฏ.

**ฒ. ฺฉูพ SSH Key** โ ูพุณ ุงุฒ ูุตุจุ ฺฉูุฏ ุนููู ููุงุด ุฏุงุฏู ูโุดูุฏ. ุฑู ูุฑ ุณุฑูุฑ Remote:

```bash
echo "ssh-ed25519 AAAA..." >> ~/.ssh/authorized_keys
```

**ณ. ุงูุฒูุฏู ุณุฑูุฑ** โ `sudo xuisync` โ ฺฏุฒูู ณ. ููุท IP ู ูพูุฑุช SSH ฺฉุงู ุงุณุช.

---

## ููู ูุฏุฑุช

```
sudo xuisync

  1) ูุถุนุช ุณุณุชู       5) ุชุบุฑ ุจุงุฒู ุฒูุงู
  2) ูุณุช ุณุฑูุฑูุง        6) ูุนุงู/ุบุฑูุนุงู ุชุงูุฑ
  3) ุงุถุงูู ฺฉุฑุฏู ุณุฑูุฑ    7) ุงุฌุฑุง ุฏุณุช sync
  4) ุญุฐู ุณุฑูุฑ           8) ููุงุด ูุงฺฏโูุง
  U) ุญุฐู ุณุณุชู          0) ุฎุฑูุฌ
```

---

## ููุทู Sync

```
final_up = master_up + ฮฃ(delta_up of each remote)
```

- **expiry / total / enable** โ ููุท ุงุฒ Master
- **up / down** โ ูุตุฑู ูุงูุน ุฌูุน ููู ุณุฑูุฑูุง
- **Reset** โ ุงฺฏุฑ ูุตุฑู Master ฺฉุงูุด ุงุจุฏุ ููู ุณุฑูุฑูุง reset ูโุดููุฏ
- **Offline server** โ ูุงฺฏ ูโุดูุฏุ sync ุจูู ุงุฏุงูู ูโุงุจุฏ

---

## ุนุจโุงุจ ุณุฑุน

```bash
tail -f /var/log/xui-multi-sync.log
ssh -i /etc/xui-multi-sync/id_ed25519 root@SERVER_IP
systemctl status xui-multi-sync.timer
```

ุฏุชุงุจุณ ููู: ุงุณฺฉุฑูพุช ุชุง ธ ุจุงุฑ retry ูโฺฉูุฏ ู ุฏุฑ ุตูุฑุช ูุงุฒ ุณุฑูุณ ุฑุง ูููุชุงู restart ูโฺฉูุฏ.

---

## ูพุดโูุงุฒูุง

- Ubuntu 20.04+ / Debian 10+
- ุฏุณุชุฑุณ root ุฑู Master
- X-UI ุง 3X-UI ูุตุจโุดุฏู ุฑู ููู ุณุฑูุฑูุง
- ุฏุณุชุฑุณ SSH ุงุฒ Master ุจู Remoteโูุง

---

## ูุงุณูุณ

MIT

---

## ุญูุงุช ุงุฒ ูพุฑูฺู

ุงฺฏุฑ ุงู ุงุจุฒุงุฑ ุจุฑุงุชุงู ููุฏ ุจูุฏุ ุจุง ุงุฑุณุงู USDT (ERC20 / BEP20) ุญูุงุช ฺฉูุฏ:

```
0x31835120E726de2EdFE5524EC282271468201D03
```
